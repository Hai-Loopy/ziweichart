<!DOCTYPE html>
<html lang="en">
<head>
    <!-- [Head section remains the same] -->
</head>
<body>
    <div class="container">
        <!-- [Header section remains the same] -->
        
        <div class="chart" id="chart-grid">
            <!-- Palace placeholders - will be filled by JavaScript -->
        </div>
        
        <!-- [Chart info section remains the same] -->
        
        <div class="twelve-palaces">
            <h3>Palace Explanations</h3>
            <div class="explanation-row">
                <div class="explanation-item">
                    <strong>Life Palace (命宮)</strong>: Personality, appearance, and talents
                </div>
                <div class="explanation-item">
                    <strong>Parents Palace (父母宮)</strong>: Parents, elders, authority figures
                </div>
                <div class="explanation-item">
                    <strong>Happiness Palace (福德宮)</strong>: Mental well-being, blessings
                </div>
                <div class="explanation-item">
                    <strong>Property Palace (田宅宮)</strong>: Property, home, land
                </div>
            </div>
            <div class="explanation-row">
                <div class="explanation-item">
                    <strong>Career Palace (官祿宮)</strong>: Career, achievements, status
                </div>
                <div class="explanation-item">
                    <strong>Friends Palace (交友宮)</strong>: Friendships, social connections
                </div>
                <div class="explanation-item">
                    <strong>Travel Palace (遷移宮)</strong>: Travel, relocation, change
                </div>
                <div class="explanation-item">
                    <strong>Health Palace (疾厄宮)</strong>: Health, difficulties, challenges
                </div>
            </div>
            <div class="explanation-row">
                <div class="explanation-item">
                    <strong>Wealth Palace (財帛宮)</strong>: Wealth, income, resources
                </div>
                <div class="explanation-item">
                    <strong>Children Palace (子女宮)</strong>: Children, creativity, joyful events
                </div>
                <div class="explanation-item">
                    <strong>Marriage Palace (夫妻宮)</strong>: Marriage, partnerships, cooperation
                </div>
                <div class="explanation-item">
                    <strong>Siblings Palace (兄弟宮)</strong>: Siblings and friendship relationships
                </div>
            </div>
            <div class="explanation-row">
                <div class="explanation-item">
                    <strong>Spirit Palace (魂魄宮)</strong>: Spirituality, intuition, subconscious
                </div>
                <div class="explanation-item">
                    <strong>Body Palace (身體宮)</strong>: Physical constitution, health
                </div>
                <div class="explanation-item">
                    <strong>Karma Palace (福德宮)</strong>: Blessings, spiritual life, karma
                </div>
                <div class="explanation-item">
                    <strong>Center</strong>: Core chart information
                </div>
            </div>
        </div>
        
        <a href="index.html" class="back-button">← Return to Calculator</a>
    </div>

    <script>
        // [First part of script remains the same]
        
        // Palace names in English with Chinese equivalents - corrected order
        const palaceNames = [
            "Life Palace (命宮)", 
            "Parents Palace (父母宮)", 
            "Happiness Palace (福德宮)", 
            "Property Palace (田宅宮)",
            "Career Palace (官祿宮)", 
            "Friends Palace (交友宮)",
            "Travel Palace (遷移宮)", 
            "Health Palace (疾厄宮)",
            "Wealth Palace (財帛宮)", 
            "Children Palace (子女宮)", 
            "Marriage Palace (夫妻宮)", 
            "Siblings Palace (兄弟宮)",
            "Spirit Palace (魂魄宮)",
            "Body Palace (身體宮)",
            "Karma Palace (福德宮)",
            "Center Palace"
        ];
        
        // Traditional palace order - now using the order you specified
        const palaceOrder = [
            "Life", "Parents", "Happiness", "Property", 
            "Career", "Friends", "Travel", "Health", 
            "Wealth", "Children", "Marriage", "Siblings"
        ];
        
        // Adjust the star placement function to match this order
        function populatePalaceTraditional(palaceNumber, position, day, month, year, hour, gender) {
            const palaceContent = document.getElementById(`palace-${palaceNumber}`);
            if (!palaceContent) return;
            
            // Clear existing content
            palaceContent.innerHTML = '';
            
            // Array to hold stars for this palace
            let starsInPalace = [];
            
            // Place stars according to the palace number in the new order
            if (palaceNumber === 1) {
                // Life Palace (命宮) - main character stars
                starsInPalace.push({ type: 'major', name: majorStars[0].name }); // Ziwei
                starsInPalace.push({ type: 'major', name: majorStars[1].name }); // Tianji
                starsInPalace.push({ type: 'minor', name: minorStars[0].name }); // Zuofu
                starsInPalace.push({ type: 'minor', name: minorStars[3].name }); // Wenchang
            } 
            else if (palaceNumber === 2) {
                // Parents Palace (父母宮)
                starsInPalace.push({ type: 'major', name: majorStars[13].name }); // Pojun
                starsInPalace.push({ type: 'minor', name: minorStars[8].name }); // Huoxing
            } 
            else if (palaceNumber === 3) {
                // Happiness Palace (福德宮)
                starsInPalace.push({ type: 'major', name: majorStars[9].name }); // Jumen
                starsInPalace.push({ type: 'minor', name: minorStars[2].name }); // Wenqu
            } 
            else if (palaceNumber === 4) {
                // Property Palace (田宅宮)
                starsInPalace.push({ type: 'major', name: majorStars[7].name }); // Taiyin
                starsInPalace.push({ type: 'minor', name: minorStars[6].name }); // Lucun
            } 
            else if (palaceNumber === 5) {
                // Career Palace (官祿宮)
                starsInPalace.push({ type: 'major', name: majorStars[4].name }); // Tiantong
                starsInPalace.push({ type: 'minor', name: minorStars[1].name }); // Youbi
            } 
            else if (palaceNumber === 6) {
                // Friends Palace (交友宮)
                starsInPalace.push({ type: 'major', name: majorStars[5].name }); // Lianzhen
                starsInPalace.push({ type: 'minor', name: minorStars[7].name }); // Tianma
            }
            else if (palaceNumber === 7) {
                // Travel Palace (遷移宮)
                starsInPalace.push({ type: 'major', name: majorStars[6].name }); // Tianfu
                starsInPalace.push({ type: 'minor', name: minorStars[4].name }); // Dikong
            } 
            else if (palaceNumber === 8) {
                // Health Palace (疾厄宮)
                starsInPalace.push({ type: 'major', name: majorStars[8].name }); // Tanlang
            } 
            else if (palaceNumber === 9) {
                // Wealth Palace (財帛宮)
                starsInPalace.push({ type: 'major', name: majorStars[3].name }); // Wuqu
                starsInPalace.push({ type: 'minor', name: minorStars[5].name }); // Dijie
            } 
            else if (palaceNumber === 10) {
                // Children Palace (子女宮)
                starsInPalace.push({ type: 'major', name: majorStars[2].name }); // Taiyang
            } 
            else if (palaceNumber === 11) {
                // Marriage Palace (夫妻宮)
                starsInPalace.push({ type: 'major', name: majorStars[12].name }); // Qisha
                starsInPalace.push({ type: 'minor', name: minorStars[9].name }); // Lingxing
            } 
            else if (palaceNumber === 12) {
                // Siblings Palace (兄弟宮)
                starsInPalace.push({ type: 'major', name: majorStars[11].name }); // Tianliang
            } 
            else if (palaceNumber === 13) {
                // Spirit Palace (魂魄宮)
                starsInPalace.push({ type: 'major', name: majorStars[10].name }); // Tianxiang
                starsInPalace.push({ type: 'minor', name: minorStars[10].name }); // Tiankui
            } 
            else if (palaceNumber === 14) {
                // Body Palace (身體宮)
                starsInPalace.push({ type: 'minor', name: minorStars[11].name }); // Tianyue
                starsInPalace.push({ type: 'minor', name: minorStars[12].name }); // Tuoluo
            } 
            else if (palaceNumber === 15) {
                // Karma Palace (福德宮)
                starsInPalace.push({ type: 'minor', name: minorStars[13].name }); // Tianxing
                starsInPalace.push({ type: 'minor', name: minorStars[14].name }); // Tianyao
            }
            
            // Add stars to the palace
            starsInPalace.forEach(star => {
                const starElement = document.createElement('div');
                starElement.className = star.type === 'major' ? 'major-star' : 'minor-star';
                starElement.textContent = star.name;
                palaceContent.appendChild(starElement);
            });
            
            // If no stars were added, add a message
            if (starsInPalace.length === 0) {
                palaceContent.innerHTML = '<div class="minor-star">No significant stars</div>';
            }
        }
        
        // [Rest of the script remains the same]
    </script>
</body>
</html>
